{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{connect}from'react-redux';//comopnent which displays each item in the catergory \nimport CollectionItem from'../../components/collection-items/collection-items.component';import{selectCollection}from'../../redux/shop/shop.selectors';import{firestore}from'../../firebase/firebase.utils';import{CollectionPageContainer,CollectionTitle,CollectionItemsContainer}from'./collections.styles';//params:\n// collectionId: \"hats\"\n//with useEffect, we can actually pass back a function from\n//the function that we pass \nvar CollectionPage=function CollectionPage(_ref){var collection=_ref.collection;//example: clean up function ====>>>> componentWillumount\nuseEffect(function(){var unsubscribeFromCollections=firestore.collection('collections').onSnapshot(function(snapshot){return console.log(snapshot);});return function(){unsubscribeFromCollections();console.log(\"I am unsubscribing\");};},[]);var title=collection.title,items=collection.items;return/*#__PURE__*/_jsxs(CollectionPageContainer,{children:[/*#__PURE__*/_jsx(CollectionTitle,{children:title}),/*#__PURE__*/_jsx(CollectionItemsContainer,{children:items.map(function(item){return/*#__PURE__*/_jsx(CollectionItem,{item:item},item.id);})})]});};//advanced way of manipulating the props with mapStateToProps\n//this way, you can blende the originam props and state right before connecting \nvar mapStateToProps=function mapStateToProps(state,ownProps){return{collection:selectCollection(ownProps.match.params.collectionId)(state)};};//the way the selectCollection is written is called currying\n// export const selectCollection = collectionUrlParam => \n// createSelector(\n//   [selectCollections],\n//   collections => collections.find(collection => collection.id === COLLECTION_ID_MAP[collectionUrlParam])\n// ) \nexport default connect(mapStateToProps)(CollectionPage);","map":{"version":3,"sources":["C:/Users/bskki/AWSamp_GraphQL Udemy/crwn-clothing/client/src/pages/collections/collections.component.jsx"],"names":["React","useEffect","connect","CollectionItem","selectCollection","firestore","CollectionPageContainer","CollectionTitle","CollectionItemsContainer","CollectionPage","collection","unsubscribeFromCollections","onSnapshot","snapshot","console","log","title","items","map","item","id","mapStateToProps","state","ownProps","match","params","collectionId"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAGA,OAAQC,OAAR,KAAsB,aAAtB,CACA;AACA,MAAOC,CAAAA,cAAP,KAA2B,8DAA3B,CACA,OAAQC,gBAAR,KAA+B,iCAA/B,CACA,OAAQC,SAAR,KAAwB,+BAAxB,CAEA,OACEC,uBADF,CAEEC,eAFF,CAGEC,wBAHF,KAIO,sBAJP,CAKA;AACA;AAEA;AACA;AACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,CAGzC;AACAT,SAAS,CAAC,UAAI,CACZ,GAAMU,CAAAA,0BAA0B,CAAGN,SAAS,CACnCK,UAD0B,CACf,aADe,EAE1BE,UAF0B,CAEf,SAAAC,QAAQ,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAJ,EAFO,CAAnC,CAIE,MAAO,WAAM,CACTF,0BAA0B,GAC1BG,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACH,CAHD,CAIH,CATQ,CASN,EATM,CAAT,CAJyC,GAejCC,CAAAA,KAfiC,CAehBN,UAfgB,CAejCM,KAfiC,CAe1BC,KAf0B,CAehBP,UAfgB,CAe1BO,KAf0B,CAiBzC,mBACE,MAAC,uBAAD,yBACE,KAAC,eAAD,WAAkBD,KAAlB,EADF,cAEE,KAAC,wBAAD,WACGC,KAAK,CAACC,GAAN,CAAU,SAAAC,IAAI,qBACb,KAAC,cAAD,EAA8B,IAAI,CAAEA,IAApC,EAAqBA,IAAI,CAACC,EAA1B,CADa,EAAd,CADH,EAFF,GADF,CAUD,CA3BD,CA4BA;AACA;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,QAAsB,CAC1Cb,UAAU,CAAGN,gBAAgB,CAACmB,QAAQ,CAACC,KAAT,CAAeC,MAAf,CAAsBC,YAAvB,CAAhB,CAAqDJ,KAArD,CAD6B,CAAtB,EAAxB,CAIA;AACA;AACA;AACA;AACA;AACA;AAIA,cAAepB,CAAAA,OAAO,CAACmB,eAAD,CAAP,CAAyBZ,cAAzB,CAAf","sourcesContent":["import React, {useEffect} from 'react';\r\n\r\n\r\nimport {connect} from 'react-redux';\r\n//comopnent which displays each item in the catergory \r\nimport CollectionItem from '../../components/collection-items/collection-items.component';\r\nimport {selectCollection} from '../../redux/shop/shop.selectors';\r\nimport {firestore} from '../../firebase/firebase.utils';\r\n\r\nimport {\r\n  CollectionPageContainer,\r\n  CollectionTitle,\r\n  CollectionItemsContainer\r\n} from './collections.styles';\r\n//params:\r\n// collectionId: \"hats\"\r\n\r\n//with useEffect, we can actually pass back a function from\r\n//the function that we pass \r\nconst CollectionPage = ({ collection }) => {\r\n\r\n  \r\n  //example: clean up function ====>>>> componentWillumount\r\n  useEffect(()=>{\r\n    const unsubscribeFromCollections = firestore\r\n            .collection('collections')\r\n            .onSnapshot(snapshot => console.log(snapshot));\r\n\r\n      return () => {\r\n          unsubscribeFromCollections();\r\n          console.log(\"I am unsubscribing\")\r\n      }\r\n  }, []);\r\n\r\n  const { title, items } = collection;\r\n\r\n  return (\r\n    <CollectionPageContainer>\r\n      <CollectionTitle>{title}</CollectionTitle>\r\n      <CollectionItemsContainer>\r\n        {items.map(item => (\r\n          <CollectionItem key={item.id} item={item} />\r\n        ))}\r\n      </CollectionItemsContainer>\r\n    </CollectionPageContainer>\r\n  );\r\n};\r\n//advanced way of manipulating the props with mapStateToProps\r\n//this way, you can blende the originam props and state right before connecting \r\nconst mapStateToProps = (state, ownProps) => ({\r\n    collection : selectCollection(ownProps.match.params.collectionId)(state)\r\n})\r\n\r\n//the way the selectCollection is written is called currying\r\n// export const selectCollection = collectionUrlParam => \r\n// createSelector(\r\n//   [selectCollections],\r\n//   collections => collections.find(collection => collection.id === COLLECTION_ID_MAP[collectionUrlParam])\r\n// ) \r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(CollectionPage); "]},"metadata":{},"sourceType":"module"}